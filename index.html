<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galerie národního zdraví</title>
</head>
<body>
    <h1>Galerie Národního Zdraví</h1>

    <iframe 
        id="youtubePlayer"
        width="560" 
        height="315" 
        src="https://www.youtube.com/embed/0FqlQG6Oe14" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
    </iframe>

    <p id="videoTitleDisplay">Načítám název videa...</p>
    
    <script>
        // Dílčí problém: Konstanty pro API a video.
        const API_KEY = 'AIzaSyCF-gaw62KFl5VUcxE6EEjbk4UDdUb90_E';
        const VIDEO_ID = '0FqlQG6Oe14';

        // Dílčí problém: Získání HTML prvků pro manipulaci.
        const titleElement = document.getElementById('videoTitleDisplay');

        // Dílčí problém: Asynchronní funkce pro načtení dat.
        function fetchVideoTitle() {
            // Dílčí problém: Odeslání HTTP požadavku.
            fetch(`https://www.googleapis.com/youtube/v3/videos?id=${VIDEO_ID}&key=${API_KEY}&part=snippet`)
                // Dílčí problém: Zpracování odpovědi.
                .then(response => {
                    // Dílčí problém: Kontrola stavu odpovědi.
                    if (!response.ok) {
                        throw new Error('Chyba při načítání dat z YouTube API.');
                    }
                    // Dílčí problém: Převedení na JSON.
                    return response.json();
                })
                .then(data => {
                    // Dílčí problém: Získání názvu videa z dat.
                    const videoTitle = data.items[0].snippet.title;
                    // Dílčí problém: Aktualizace HTML obsahu.
                    titleElement.textContent = `Název: ${videoTitle}`;
                })
                .catch(error => {
                    // Dílčí problém: Ošetření chyby.
                    titleElement.textContent = `Nepodařilo se načíst název. Chyba: ${error.message}`;
                    console.error('Chyba:', error);
                });
        }

        // Dílčí problém: Spuštění skriptu po načtení DOM.
        document.addEventListener('DOMContentLoaded', fetchVideoTitle);
    </script>
</body>
</html>
