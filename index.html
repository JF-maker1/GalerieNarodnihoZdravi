<!DOCTYPE html>
<html>
  <body>
    <h1>Hello world!</h1>
    <a
      id="youtube-link"
      href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
      target="_blank"
    >
      Načítám název a počet zhlédnutí videa...
    </a>

    <script>
      (async () => {
        const apiKey = 'AIzaSyCF-gaw62KFl5VUcxE6EEjbk4UDdUb90_E'; // <-- Vložte sem svůj API klíč!
        const videoId = 'dQw4w9WgXcQ';
        
        // ZMĚNA 1: Požadujeme i statistiky (počet zhlédnutí)
        const apiUrl = `https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${videoId}&key=${apiKey}`;
        
        const videoLinkElement = document.getElementById('youtube-link');

        try {
          const response = await fetch(apiUrl);
          const data = await response.json();
          const videoInfo = data.items[0];

          const videoTitle = videoInfo.snippet.title;
          
          // ZMĚNA 2: Získáme počet zhlédnutí a naformátujeme ho pro lepší čitelnost
          const viewCount = Number(videoInfo.statistics.viewCount).toLocaleString('cs-CZ');

          if (videoTitle && viewCount) {
            // ZMĚNA 3: Spojíme název a počet zhlédnutí do jednoho textu
            videoLinkElement.textContent = `${videoTitle} (${viewCount} zhlédnutí)`;
          } else {
            videoLinkElement.textContent = 'Informace o videu se nepodařilo načíst.';
          }
        } catch (error) {
          console.error('Došlo k chybě:', error);
          videoLinkElement.textContent = 'Chyba při načítání videa.';
        }
      })();
    </script>
  </body>
</html>
